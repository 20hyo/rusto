[general]
symbols = ["btcusdt", "ethusdt"]
log_level = "info"
auto_select_symbols = true
top_n_symbols = 10

[range_bar]
# Range size per symbol (USDT price movement per bar)
btcusdt = 50.0
ethusdt = 3.0
default = 10.0
default_pct = 0.05   # Dynamic range: 0.05% of current price (for auto-selected symbols)

[volume_profile]
tick_size = 0.1
value_area_pct = 0.70
session_reset_hours = 24
tick_multiplier = 10   # Per-symbol tick = exchange tick_size Ã— multiplier

[order_flow]
absorption_delta_ratio = 3.0
max_price_delta_ticks = 2
large_volume_multiplier = 2.0
volume_baseline_bars = 40
volume_burst_multiplier = 1.8

[strategy]
# Available setups: "AAA", "MomentumSqueeze", "AbsorptionReversal", "AdvancedOrderFlow"
enabled_setups = ["AdvancedOrderFlow"]
aaa_poc_distance_ticks = 5
momentum_lookback_bars = 20
min_delta_confirmation = 1.5
# AdvancedOrderFlow filters (win-rate bias: fewer but higher-quality entries)
advanced_zone_ticks = 3
advanced_min_imbalance_ratio = 2.2
advanced_min_cvd_1min_change = 12.0
advanced_min_bar_range_pct = 0.05
advanced_cooldown_bars = 8
advanced_require_reversal_bar = true
advanced_min_volume_burst_ratio = 1.8
advanced_auto_tune_volume_burst = true
advanced_tuning_lookback_bars = 120
advanced_tuning_lookahead_bars = 8
advanced_tuning_stop_pct = 0.20
advanced_tuning_target_pct = 0.35
advanced_tuning_min_trades = 8
regime_switching_enabled = true
regime_window_bars = 40
regime_trend_threshold_pct = 0.25
regime_high_vol_threshold_pct = 0.12
regime_aggressive_multiplier = 0.9
regime_conservative_multiplier = 1.15
regime_aggressive_cooldown_mult = 0.75
regime_conservative_cooldown_mult = 1.4

[risk]
initial_balance = 10000.0
max_risk_per_trade = 0.01           # 1% risk per trade
daily_loss_limit_pct = 0.03         # 3% daily loss limit
max_concurrent_positions = 5
break_even_ticks = 3
break_even_min_hold_secs = 45
break_even_trigger_rr = 1.2
break_even_profit_lock_ticks = 1
confidence_sizing_enabled = true
min_confidence_scale = 0.6
max_confidence_scale = 1.2
consecutive_loss_limit = 3
symbol_cooldown_minutes = 30
default_stop_ticks = 10             # For non-AdvancedOrderFlow strategies
default_target_multiplier = 2.0
# AdvancedOrderFlow uses -0.4% hard stop (calculated automatically for 100x leverage)

[simulator]
slippage_ticks = 1
maker_fee = 0.0002
taker_fee = 0.0004
order_book_depth = 20
# Leverage settings (50x futures)
leverage = 50.0
margin_type = "Isolated"  # "Isolated" or "Cross"
maintenance_margin_rate = 0.004  # 0.4% (exchange-dependent, verify before live)
soft_stop_seconds = 45
soft_stop_drawdown_pct = 0.15
require_orderbook_for_entry = true
max_spread_bps = 4.0
min_depth_imbalance_ratio = 1.05
expectancy_filter_enabled = true
expectancy_min_trades_per_hour = 12
expectancy_min_avg_pnl = 0.0
expectancy_lookback_trades = 80
slippage_model_enabled = true
max_model_slippage_bps = 6.0
impact_depth_levels = 5
impact_weight_bps = 8.0

[logging]
trades_csv_path = "trades.csv"
trades_json_path = "trades.json"
trades_db_path = "trades.db"

[discord]
enabled = true

[binance]
# Binance Futures API base URL
api_url = "https://fapi.binance.com"
# Maximum allowed time offset between local and server time (ms)
max_time_offset_ms = 500
# Maximum recommended average latency (ms)
max_latency_ms = 15.0
# Number of ping samples for RTT measurement
ping_samples = 10
